$(document).ready(function(){var $filterByTags=$("#selectTagsFilter");var $filterByCity=$("#citySelectFilter");var $searchButton=$('.search-submit button[type="submit"]');var $body=$("body");var s2LanguageErrors=function(preloadData){return{errorLoading:function(){return homeLabels.select2.errorLoading},maximumSelected:function(){return homeLabels.select2.maximumSelected},inputTooShort:function(num){if(!preloadData){return homeLabels.select2.inputTooShort_1+num+homeLabels.select2.inputTooShort_2}return $tagsList},noResults:function(){return homeLabels.select2.noResults},searching:function(data){if(!data.term){return}return homeLabels.select2.searching}}};$body.on("click",".special-tags-list > li",function(){var $this=$(this);var thisKey=$this.data("key");var thisValue=$this.data("value");var newOption=new Option(thisValue,thisKey,false,false);var oldVal=$filterByTags.val();if($("option[value='"+thisKey+"']",$filterByTags).length===0){$filterByTags.append(newOption)}if(oldVal!==thisKey){oldVal=thisKey;$filterByTags.val(oldVal).trigger("change");$tagsSelector.select2("close");$searchButton.trigger("click")}});$(".s2-default").select2({language:s2LanguageErrors()}).on("select2:open",function(e){if(window.mobileCheck){$(".select2-search input").prop("focus",false).prop("placeholder",homeLabels.search)}});$filterByCity.select2({language:s2LanguageErrors(),ajax:{url:"/search-cities",dataType:"json",delay:250,processResults:function(data){return{results:data.items}},cache:true},minimumInputLength:0}).on("select2:open",function(e){if(window.mobileCheck){$(".select2-search input").prop("focus",false).prop("placeholder",homeLabels.search)}});$filterByCity.select2("open");$filterByCity.select2("close");function formatRepo(repo){if(repo.is_link){return $('<a class="search-link" href="'+repo.url+'"><i class="fa fa-map-marker"></i> '+repo.text+"</a>")}else if(repo.is_category){return $('<a class="search-link" href="'+repo.url+'"><i class="fa fa-bars"></i> '+repo.text+"</a>")}return repo.text}$filterByTags.on("select2:selecting",function(event){if(event.params.args.data.is_link||event.params.args.data.is_category){event.preventDefault()}});$body.on("click",".search-link",function(){window.location.href=$(this).attr("href")});function formatRepoSelection(repo){return repo.text}var $tagsSelector=$(".js-data-example-ajax").select2({language:s2LanguageErrors(true),ajax:{url:"/search-tags",dataType:"json",delay:250,processResults:function(data){return{results:data.items}},data:function(params){params.citySlug=$filterByCity.val();return params},cache:true},placeholder:function(){$(this).data("placeholder")},minimumInputLength:2,templateResult:formatRepo,templateSelection:formatRepoSelection}).on("select2:open",function(e){if(window.mobileCheck){$(".select2-search input").prop("focus",false).prop("placeholder",homeLabels.search)}});var $resultData=null;$tagsSelector.on("select2:opening",function(event){if(!$filterByCity.val()){setTimeout(function(){$filterByCity.select2("open")},200);return false}});$filterByCity.on("select2:select",function(event){if($filterByCity.val()&&!window.mobileCheck){$tagsSelector.select2("open")}});$searchButton.on("click",function(){if(!$filterByCity.val()){$filterByCity.select2("open");return false}$searchButton.html(' <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>');$body.addClass("cursor-loading")});$tagsSelector.on("select2:close",function(){$resultData=$(".select2-results");$resultData.removeClass("d-none")});$tagsSelector.on("select2:select",function(){$searchButton.trigger("click")});$(".select-tags .select2-search__field").on("keyup",function(event){})});var initHome=function(){$(".restaurants-type-slider").owlCarousel({items:3,margin:10,stagePadding:20,dots:true,autoplay:true,responsive:{0:{items:1},600:{items:2},1e3:{items:3}}});$(".main-pages-slider").owlCarousel({items:4,margin:10,stagePadding:20,dots:true,autoplay:true,responsive:{0:{items:2},600:{items:2},1e3:{items:4}}});$("#HomeLocationList").owlCarousel({items:3,margin:10,stagePadding:50,dots:true,autoplay:true,responsive:{0:{items:1},750:{items:2},1e3:{items:3}}});$(".banner-delivery-slider").owlCarousel({items:2,margin:10,stagePadding:20,dots:true,responsive:{0:{items:1},600:{items:2},1e3:{items:2}}})};